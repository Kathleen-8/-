<model-viewer
  id="mv"
  src="vr/sneg_anim.glb"
  ios-src="vr/sneg.usdz"
  ar
  ar-modes="scene-viewer quick-look webxr"
  camera-controls
  autoplay
  shadow-intensity="1"
  style="width: 100vw; height: 100vh; background: #fff;">
</model-viewer>

<div id="dbg" style="
  position: fixed; left: 12px; bottom: 12px;
  padding: 10px 12px; border-radius: 10px;
  background: rgba(0,0,0,0.65); color: #fff;
  font-family: Arial, sans-serif; font-size: 14px; z-index: 9999;">
Загрузка...
</div>

<script>
const viewer = document.getElementById('mv');
const dbg = document.getElementById('dbg');

viewer.addEventListener('load', () => {
  const anims = viewer.availableAnimations || [];
  dbg.textContent = 'Animations: ' + (anims.length ? anims.join(', ') : 'НЕТ');

  // Если анимаций нет — в GLB они не экспортировались
  if (anims.length === 0) return;

  // Запустить первую
  viewer.animationName = anims[0];
  viewer.play();

  // Через 3 сек плавно перейти на вторую (если она есть)
  if (anims.length >= 2) {
    setTimeout(() => {
      viewer.animationCrossfadeDuration = 1000;
      viewer.animationName = anims[1];
      viewer.play();
    }, 3000);
  }
});
</script>
